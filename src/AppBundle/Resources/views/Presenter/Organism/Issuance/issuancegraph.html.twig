<div id="chart-area" style="height: 400px">
    <p class="text--center">Drawing graph...</p>
</div>
<script>
    (function() {
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable({{ issuancegraph.data|json_encode|raw }}),
                    options = {{ issuancegraph.chartOptions|json_encode|raw }},
                    chart = new google.visualization.{{ issuancegraph.chartType }}(document.getElementById('chart-area'));

            google.visualization.events.addListener(chart, 'select', selectHandler);
            chart.draw(data, options);

            function selectHandler() {
                var selectedItem = chart.getSelection()[0],
                        month,
                        yearCol,
                        index,
                        link;
                if (selectedItem) {
                    month = selectedItem.row;
                    yearCol = selectedItem.column;
                    index = month + '-' + yearCol;
                    link = document.querySelector('a[data-index="' + index + '"]');
                    if (link) {
                        window.location.href = link.href;
                    }
                }
            }
        }
    })();
</script>
{% extends 'AppBundle::base.html.twig' %}

{% use "AppBundle::issuers/_base.html.twig" %}

{% block content %}
<div class="grid g-unit">
    <div class="g">
        <h1 class="c"><span class="invisible">{{ block('context') }} - </span>{{ pageTitle }}</h1>
    </div>
    <div class="g">
        {% include maturityProfilePresenter.templatePath with maturityProfilePresenter.vars only %}
    </div>
</div>

    {#
    COMING LATER
    <h2 class="g-unit">Maturity Profile</h2>
    <table class="table table--striped table--small">
        <thead>
        <tr>
            <th>Product</th>
            {% for bucket in buckets %}
                <th>{{ bucket.name }}</th>
            {%  endfor %}
            <th>Total</th>
        </tr>
        </thead>
        <tbody>
        {% for row in tableData %}
            <tr>
                <th>{{ row.product.name }}</th>
                {% for column in row.columns %}
                    <td>
                        {% if column.amount != 0 %}
                            <a href="{{ path('issuer_securities', {
                                    issuer_id : issuer.id,
                                    product : row.product.id,
                                    bucket : column.bucket.key
                                })
                            }}">
                                £{{ column.amount|number_format }}m
                            </a>
                        {% else %}
                            -
                        {% endif %}
                    </td>
                {% endfor %}
                <td>
                    <strong>
                        {% if row.total != 0 %}
                            <a href="{{ path('issuer_securities', {
                                    issuer_id : issuer.id,
                                    product : row.product.id
                                })
                            }}">
                                £{{ row.total|number_format }}m
                            </a>
                        {% else %}
                            -
                        {% endif %}
                    </strong>
                </td>
            </tr>
        {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th>Totals</th>
                {% for column in bucketTotals %}
                    <td>£{{ column.amount|number_format }}m</td>
                {% endfor %}
                <td><strong>£{{ absoluteTotal|number_format }}m</strong></td>
            </tr>
        </tfoot>
    </table>
    #}
{% endblock %}
